<Window x:Class="PediatricSoft.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PediatricSoft"
        mc:Ignorable="d"
        Title="MainWindow" Height="500" Width="800" MinHeight="300" MinWidth="400"
        Closing="Window_Closing">

    <Grid>

        <DockPanel Width="120" HorizontalAlignment="Right" LastChildFill="False">

            <Button Name="buttonScanPorts" Margin="10,10,10,5" Width="100" Height="20"
                            IsEnabled="True" DockPanel.Dock="Top" Click="ButtonScanPorts_Click">
                Scan Ports
            </Button>

            <Button Name="buttonRunSensors" Margin="10,5" Width="100" Height="20"
                            IsEnabled="False" DockPanel.Dock="Top" Click="ButtonRunSensors_Click">
                Start Sensors
            </Button>

            <Button Name="buttonPlot" Margin="10,5" Width="100" Height="20"
                            IsEnabled="False" DockPanel.Dock="Top" Click="ButtonPlot_Click">
                Show Plot
            </Button>

            <StackPanel Margin="10,5" DockPanel.Dock="Top" Orientation="Horizontal"
                                DataContext="{Binding Source={StaticResource resource}}">

                <CheckBox Name="saveDataCheckbox" VerticalAlignment="Center"
                                  IsChecked="{Binding Path=SaveData}">

                </CheckBox>

                <TextBlock Margin="5,0,0,0" VerticalAlignment="Center">
                            Save Data
                </TextBlock>

            </StackPanel>

            <TextBox Margin="10,5" DockPanel.Dock="Top"
                             DataContext="{Binding Source={StaticResource resource}}"
                             Text="{Binding Path=SavePrefix}">
            </TextBox>

        </DockPanel>

        <TextBox Name="logTextBox" Margin="10" Height="96"
                         VerticalAlignment="Bottom" IsReadOnly="True"/>

        <ListView Name="sensorListView" Margin="10,10,120,120"
                          ItemsSource="{Binding Source={x:Static local:PediatricSensorData.Sensors}}">

            <ListView.View>

                <GridView>

                    <GridViewColumn Header="Port" DisplayMemberBinding="{Binding Port}"/>
                    <GridViewColumn Header="IDN" DisplayMemberBinding="{Binding IDN}"/>
                    <GridViewColumn Header="S/N" DisplayMemberBinding="{Binding SN}"/>
                    <GridViewColumn Header="Last Value" DisplayMemberBinding="{Binding LastValue}"/>
                    <GridViewColumn Header="Plot">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding ShouldBePlotted}"
                                                  ToggleButton.Checked="PlotToggle"
                                                  ToggleButton.Unchecked="PlotToggle">
                                </CheckBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>

            </ListView.View>

        </ListView>

    </Grid>

</Window>
