<Window x:Class="PediatricSoft.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PediatricSoft"
        mc:Ignorable="d"
        Title="MainWindow" Height="500" Width="800" MinHeight="300" MinWidth="400"
        Closing="Window_Closing"
        DataContext="{Binding Source={StaticResource resource}}">

    <Grid>

        <DockPanel Width="200" HorizontalAlignment="Right" LastChildFill="False">

            <Button Name="buttonScanPorts" Margin="10,10,10,5" Height="20"
                            IsEnabled="True" DockPanel.Dock="Top" Click="ButtonScanPorts_Click">
                Scan Ports
            </Button>

            <StackPanel Margin="10,5" DockPanel.Dock="Top" Orientation="Horizontal">

                <TextBlock VerticalAlignment="Center">
                            Debug Mode
                </TextBlock>

                <CheckBox Margin="5,0,0,0" VerticalAlignment="Center" 
                          IsChecked="{Binding Path=DebugMode}">
                    
                </CheckBox>

            </StackPanel>

            <TextBlock Margin="10,5" Height="20"
                       DockPanel.Dock="Top"
                       Text="{Binding Path=SensorCount}">
            </TextBlock>

            <Button Name="buttonLockSensors" Margin="10,5" Height="20"
                            IsEnabled="False" DockPanel.Dock="Top" Click="ButtonLockSensors_Click">
                Lock Sensors
            </Button>

            <Button Name="buttonRunSensors" Margin="10,5" Height="20"
                            IsEnabled="False" DockPanel.Dock="Top" Click="ButtonRunSensors_Click">
                Start Sensors
            </Button>

            <Button Name="buttonSendCommands" Margin="10,5" Height="20"
                            IsEnabled="False" DockPanel.Dock="Top" Click="ButtonSendCommands_Click">
                Send Commands
            </Button>

            <Button Name="buttonPlot" Margin="10,5" Height="20"
                            IsEnabled="False" DockPanel.Dock="Top" Click="ButtonPlot_Click">
                Show Plot
            </Button>

            <StackPanel Margin="10,5" DockPanel.Dock="Top" Orientation="Horizontal">

                <TextBlock VerticalAlignment="Center">
                            Save RAW Data
                </TextBlock>

                <CheckBox Margin="5,0,0,0" VerticalAlignment="Center" 
                          Name="saveRAWValuesCheckbox"
                          IsChecked="{Binding Path=SaveRAWValues}">

                </CheckBox>

            </StackPanel>

            <StackPanel Margin="10,5" DockPanel.Dock="Top" Orientation="Horizontal">

                <CheckBox Name="saveDataCheckbox" VerticalAlignment="Center" 
                          IsChecked="{Binding Path=SaveDataEnabled}">

                </CheckBox>

                <TextBlock Margin="5,0,0,0" VerticalAlignment="Center">
                            Save Data with suffix:
                </TextBlock>

            </StackPanel>

            <TextBox Name="saveSuffixTextBox" Margin="10,5" DockPanel.Dock="Top" 
                     Text="{Binding Path=SaveSuffix}">
            </TextBox>

            <Button Name="buttonFieldZero" Margin="10,5" Height="20"
                            IsEnabled="True" DockPanel.Dock="Top" Click="ButtonZeroFields_Click">
                Zero Fields
            </Button>

        </DockPanel>

        <TextBox Name="logTextBox" Margin="10" Height="96"
                         VerticalAlignment="Bottom" IsReadOnly="True"/>

        <ListView Name="sensorListView" Margin="10,10,200,120"
                  ItemsSource="{Binding Path=Sensors}">

            <ListView.View>

                <GridView>

                    <GridViewColumn Header="Port" DisplayMemberBinding="{Binding Port}"/>
                    
                    <GridViewColumn Header="IDN" DisplayMemberBinding="{Binding IDN}"/>
                    
                    <GridViewColumn Header="S/N" DisplayMemberBinding="{Binding SN}"/>

                    <GridViewColumn Header="State" DisplayMemberBinding="{Binding State}"/>

                    <GridViewColumn Header="Value RAW" DisplayMemberBinding="{Binding LastValue}"/>

                    <GridViewColumn Header="Value" DisplayMemberBinding="{Binding Voltage}"/>

                    <GridViewColumn Header="Plot">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding ShouldBePlotted}"
                                                  ToggleButton.Checked="PlotToggle"
                                                  ToggleButton.Unchecked="PlotToggle">
                                </CheckBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    
                </GridView>
                
            </ListView.View>

        </ListView>

    </Grid>

</Window>
